<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fire Safety</title>

  <link rel="stylesheet" href="../css/mode.css" />
  <link rel="stylesheet" href="../css/form.css" />
  <link rel="stylesheet" href="../css/map.css" />
  <link rel="stylesheet" href="../css/modal.css" />

  <!-- Leaflet core CSS -->
  <link 
    rel="stylesheet" 
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
    crossorigin=""
  />

  <!-- Leaflet routing machine css -->
  <link 
    rel="stylesheet" 
    href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" 
  />

</head>

<body class="darkMode">

  <!-- Top Navigation -->
  <header class="main-header">
    <div class="container">
      <h1 id="Header1">Rouge Fighter</h1>
      <ul class="nav-links">
        <li><a href="../index.html">Home</a></li>
        <li><a href="../html/departments.html">Staff</a></li>
        <li><a href="#">Vehicles</a></li>
        <li><a href="../html/map.html">Map</a></li>
        <li><a href="#">Contact</a></li>
        <li><button class="open-button" onclick="openIncidentForm(currentIncidentLocation)"><img class="account" src="../pictures/account.png" alt="Account" /></button></li>
        <li>
          <button id="theme-toggle">
            <img src="../pictures/moon_and_dark_circle_only.png" alt="DarkMode" />
            <img src="../pictures/icons8-light-mode-78-dark-to-white.png" alt="lightMode" />
          </button>
        </li>
      </ul>
    </div>
  </header>

  <!-- Main content area -->
  <div class="page-layout">
    <!-- Left Side -->
    <div class="left-panel">
      <!-- Search Form -->
      <div class="search-wrapper">
        <form id="search-form">
          <input type="text" id="search-input" placeholder="Search..." data-search />
        </form>
      </div>
    </div>

    <!-- Right Side (Map) -->
    <div class="right-panel">
      <div id="map" style="height: 600px;"></div>
    </div>
  </div>

  <!-- Модален прозорец за изпращане на произшествия -->
  <div class="modal" id="formModal" style="display: none; justify-content: center; align-items: center;">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2>Изпращане на екипи</h2>
      <form id="incidentForm">
        <label for="employeeSelect">Служители:</label>
        <select id="employeeSelect" name="employees" multiple size="5" required></select>

        <label for="vehicleSelect">Автомобили:</label>
        <select id="vehicleSelect" name="vehicles" multiple size="5" required></select>

        <label for="teamSelect">Екипи:</label>
        <select id="teamSelect" name="teams" multiple size="5" required></select>

        <label for="registerDate">Дата и час на регистриране:</label>
        <input type="datetime-local" id="registerDate" name="registerDate" required />

        <label for="endDate">Дата и час на приключване:</label>
        <input type="datetime-local" id="endDate" name="endDate" />

        <button type="submit">Изпрати</button>
      </form>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Rouge Fighter. All rights reserved.</p>
  </footer>

  <!-- Leaflet core JS -->
  <script 
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
    crossorigin="" 
    defer
  ></script>

  <!-- Leaflet routing machine js -->
  <script 
    src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js" 
    defer
  ></script>

  <!-- Твоят map.js с логиката за картата и формата -->
  <script src="../javascipt/map.js" defer></script>
  
</body>
</html>
